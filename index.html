<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Drum Kit</title>
	<link rel="stylesheet" href="style.css">
</head>
<body>

	<div class="keys">
		<!-- emmet-syntax: -->
		<!-- div.key[data-key=]*9>kbd+span.sound -->
		<div class="key" data-key="65">
			<kbd>A</kbd>
			<span class="sound">clap</span>
		</div>
		<div class="key" data-key="83">
			<kbd>S</kbd>
			<span class="sound">crash</span>
		</div>
		<div class="key" data-key="68">
			<kbd>D</kbd>
			<span class="sound">hihat</span>
		</div>
		<div class="key" data-key="70">
			<kbd>F</kbd>
			<span class="sound">kick</span>
		</div>
		<div class="key" data-key="71">
			<kbd>G</kbd>
			<span class="sound">openhat</span>
		</div>
		<div class="key" data-key="72">
			<kbd>H</kbd>
			<span class="sound">perc</span>
		</div>
		<div class="key" data-key="74">
			<kbd>J</kbd>
			<span class="sound">ride</span>
		</div>
		<div class="key" data-key="75">
			<kbd>K</kbd>
			<span class="sound">snare</span>
		</div>
		<div class="key" data-key="76">
			<kbd>L</kbd>
			<span class="sound">tom</span>
		</div>
	</div>

	<audio src="sounds/clap.wav" data-key="65"></audio>
	<audio src="sounds/crash.wav" data-key="83"></audio>
	<audio src="sounds/hihat.wav" data-key="68"></audio>
	<audio src="sounds/kick.wav" data-key="70"></audio>
	<audio src="sounds/openhat.wav" data-key="71"></audio>
	<audio src="sounds/perc.wav" data-key="72"></audio>
	<audio src="sounds/ride.wav" data-key="74"></audio>
	<audio src="sounds/snare.wav" data-key="75"></audio>
	<audio src="sounds/tom.wav" data-key="76"></audio>

	<script>
		function playSound(e) {
			const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
			const key = document.querySelector(`.key[data-key="${e.keyCode}"]`);
			if (!audio) return;
			audio.currentTime = 0; // rewind to the start
			audio.play();
			key.classList.add('playing');
			window.addEventListener('keyup', function(e) {
				const key = document.querySelector(`.key[data-key="${e.keyCode}"]`);
				if(!key) return;
				key.classList.remove('playing');
			});
		}
		window.addEventListener('keydown', playSound);
	</script>

</body>
</html>
